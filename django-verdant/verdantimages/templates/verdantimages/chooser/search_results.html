{% load image_tags %}

{% if images %}
    <ul class="listing horiz images chooser">
        {% for image in images %}
            <li>
                <a class="image-choice" href="{% if will_select_format %}{% url 'verdantimages_chooser_select_format' image.id %}{% else %}{% url 'verdantimages_image_chosen' image.id %}{% endif %}">
                    <div class="image">{% image image fill-150x150 %}</div>
                    <h3>{{ image.title }}</h3>
                </a>
                {% comment %}
                    I'm not sure why it would ever be necessary to list the tags on an image in search results
                    {% with image.prefetched_tags as tags %}
                        {% if tags %}
                            <p>Tags: {% for tag in tags %}{{ tag.name }} {% endfor %}</p>
                        {% endif %}
                    {% endwith %}
                {% endcomment %}
            </li>
        {% endfor %}
    </ul>
{% endif %}