{% load image_tags ellipsistrim %}


{% if images %}
    <h2>{{ images|length }} match{{ images|pluralize:"es" }}</h2>
    <ul class="listing horiz images chooser">
        {% for image in images %}
            <li>
                <a class="image-choice" href="{% if will_select_format %}{% url 'verdantimages_chooser_select_format' image.id %}{% else %}{% url 'verdantimages_image_chosen' image.id %}{% endif %}">
                    <div class="image">{% image image max-165x165 %}</div>
                    <h3>{{ image.title|ellipsistrim:60 }}</h3>
                </a>
            </li>
        {% endfor %}
    </ul>

    <ul class="pagination">
        <li class="prev">
            {% if images.has_previous %}
                <a href="#" data-page="{{ images.previous_page_number }}" class="icon icon-arrow-left">Previous</a>
            {% endif %}
        </li>
        <li class="current">
            Page {{ images.number }} of {{ images.paginator.num_pages }}.
        </li>
        <li class="next">
            {% if images.has_next %}
                <a href="#" data-page="{{ images.next_page_number }}" class="icon icon-arrow-right-after">Next</a>
            {% endif %}
        </span>
    </ul>
{% endif %}
