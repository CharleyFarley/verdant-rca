{% extends "rca/base.html" %}
{% load rca_tags pageurl %}

{% block body_class %}type-innovationrca-index{% endblock %}

{% block content %}

  <h1 class="h1 major">{{ self.title }}</h1>

  {% include "rca/includes/modules/intro-large.html" %}

  <section class="filters four-filters row">
      <form id="filters" action="{% pageurl self %}" method="GET">
          <ul>
              <li class="filter">
                  <label for="project_type">Type of project</label>
                  <select id="project_type" name="project_type">
                      <option value="">All project types</option>
                      {% for key, value in global_innovationrca_project_types %}
                        <option value="{{ key }}" {% if request.GET.project_type == key %}selected="selected"{% endif %}>{{ value }}</option>
                      {% endfor %}
                  </select>
              </li>
            <li class="filter">
                  <label for="project_ended">Ended</label>
                  <select id="project_ended" name="project_ended">
                      <option value="">Both</option>
                      <option value="yes">Yes</option>
                      <option value="no">No</option>
                  </select>
              </li>
          </ul>
          <input type="submit" />
      </form>
  </section>

  <div id="listing">
      {% include "rca/includes/innovation_rca_listing.html" %}
  </div>

  {% include "rca/includes/modules/twitter-feed.html" %}
{% endblock %}

{% block sidebar %}
    {% include "rca/includes/sidebar.html" with showToday="true" showAdverts="true" %}
{% endblock %}


{% block extra_js %}
  <script type="text/javascript">
    //global var for current_page set here so that it can be used by the script being called
    var current_page = window.location.pathname;
  </script>
  <script src="/static/rca/js/filters.js"></script>
{% endblock %}

<!-- TODO:
- filter of programmes when school is selected (or other filtering to be discussed)
 -->